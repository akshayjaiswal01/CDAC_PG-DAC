<!DOCTYPE html>
<html>
    <head>
        <title> JSON </title>
    </head>

    <body>

        <h2>User Information </h2>

        <label for="fname"> First Name: </label>
        <input type="text" id="fname" placeholder="Enter first name">
        <br><br>

        <label for="lname"> Last Name: </label>
        <input type="text" id="lname" placeholder="Enter last name">
        <br><br>

        <label for="age"> Age: </label>
        <input type="number" id="age" placeholder="Enter age">
        <br><br>

        <button onclick="addData()"> Submit </button>

        <h3> JSON Output </h3>
        <pre id="jsonOutput"></pre>


        <table id="dataTable">
            <thead>
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Age</th>
                    <th>Username</th>
                </tr>
            </thead>

            <tbody>
                
            </tbody>
        </table>



        <script>

            function addData()
            {
                let fname = document.getElementById("fname").value;
                let lname = document.getElementById("lname").value;
                let age = document.getElementById("age").value;

                const userData = {
                    fname,
                    lname,
                    age
                };

                const firstTwo = fname.substring(0, 2).toLowerCase();
                const lastTwo = lname.substring(lname.length - 2).toLowerCase();
                const username = firstTwo + lastTwo + age;

                userData.username = username;

                const JSONData = JSON.stringify(userData, null, 2);
                document.getElementById("jsonOutput").textContent = JSONData;

                const tableBody = document.getElementById("dataTable").querySelector("tbody")
                const newrow = tableBody.insertRow();
                newrow.insertCell(0).textContent = userData.fname;
                newrow.insertCell(1).textContent = userData.lname;
                newrow.insertCell(2).textContent = userData.age;
                newrow.insertCell(3).textContent = userData.username;

            }

        </script>

    </body>
</html>